(this["webpackJsonpcreate-react-app-template"]=this["webpackJsonpcreate-react-app-template"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1lISj",Modal:"Modal_Modal__27Oec"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1vmTs",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bIYo"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3Ty5_"}},15:function(e,t,a){e.exports={Button:"Button_Button__1FFvU"}},16:function(e,t,a){e.exports={container:"Container_container__16MYt"}},22:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1aBpV",SearchForm:"Searchbar_SearchForm__3ajC0",SearchFormButton:"Searchbar_SearchFormButton__13oDG",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1PYbS",SearchFormInput:"Searchbar_SearchFormInput__1u-RR"}},43:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(1),n=a.n(c),o=a(6),l=a.n(o),i=(a(22),a(12)),s=a(3),u=a(4),m=a.n(u);function j(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(s.a)(a,2),o=n[0],l=n[1];return Object(r.jsx)("header",{className:m.a.Searchbar,children:Object(r.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(o),l("")},children:[Object(r.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(r.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query",value:o,onChange:function(e){var t=e.target;l(t.value)}})]})})}var b=a(8),h=a.n(b),d=(a(13),a(10)),O=a.n(d),g=document.querySelector("#modal-root");function p(e){var t=e.onClose,a=e.src,n=Object(c.useState)(!1),l=Object(s.a)(n,2),i=l[0],u=l[1],m=function(){u((function(e){return!e}))};return Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return m(),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(o.createPortal)(Object(r.jsx)("div",{className:O.a.Overlay,onClick:function(e){e.currentTarget===e.turget&&t()},children:Object(r.jsxs)("div",{className:O.a.Modal,children:[Object(r.jsx)("img",{src:a,alt:"",onLoad:m}),i&&Object(r.jsx)(h.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})]})}),g)}var f=a(2),S=a.n(f),_=a(11),x=a.n(_);function y(e){var t=e.imageData,a=t.id,n=t.webformatURL,o=t.largeImageURL,l=Object(c.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],j=Object(c.useState)(null),b=Object(s.a)(j,2),h=b[0],d=b[1],O=function(){m((function(e){return!e}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:n,alt:a,className:x.a.ImageGalleryItemImage,"data-img":o,onClick:function(e){d(e.target.dataset.img),O()}})}),u&&Object(r.jsx)(p,{onClose:O,src:h})]})}y.propTyps={imageData:S.a.shape({id:S.a.number,webformatURL:S.a.string,largeImageURL:S.a.string})};var v=a(14),I=a.n(v);function F(e){var t=e.gallery;return Object(r.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e,t){return Object(r.jsx)(y,{imageData:e},t)}))})}function w(){return Object(r.jsx)(h.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80,timeout:3e3})}F.propTyps={gallery:S.a.array.isRequired};var B=a(15),G=a.n(B);function N(e){var t=e.onClick;return Object(r.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more"})}var k={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("14395659-9e9c935ac58e7e08d55a10421","&image_type=all&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error('\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'.concat(e,'"')))}))}},C=a.p+"static/media/error.34e0bf5d.jpg",L=a.p+"static/media/cover.a984235c.jpg",E=a(16),T=a.n(E);var M=function(e){var t=e.children;return Object(r.jsx)("div",{className:T.a.container,children:t})},R="idle",D="pending",U="resolved",q="rejected";function P(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(null),l=Object(s.a)(o,2),u=l[0],m=l[1],b=Object(c.useState)(0),h=Object(s.a)(b,2),d=h[0],O=h[1],g=Object(c.useState)(R),p=Object(s.a)(g,2),f=p[0],S=p[1],_=Object(c.useState)(null),x=Object(s.a)(_,2),y=x[0],v=x[1],I=Object(c.useState)(null),B=Object(s.a)(I,2),G=B[0],E=B[1];return Object(c.useEffect)((function(){u&&(S(D),k.fetchImage(u,d).then((function(e){if(E(e.total),e.total<1)return Promise.reject(new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(u)));n((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),S(U)})).catch((function(e){v(e),S(q)})))}),[d,u]),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(r.jsxs)(M,{children:[Object(r.jsx)(j,{onSubmit:function(e){m(e),O(1),n([])}}),(f===R||f===q)&&Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:f===R?"\u041d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c... \ud83d\ude1c":f===q&&y.message}),Object(r.jsx)("img",{src:f===R&&L||f===q&&C,alt:""})]}),(f===U||f===D)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F,{gallery:a}),G>a.length&&Object(r.jsx)(N,{onClick:function(){O((function(e){return e+1}))}}),f===D&&Object(r.jsx)(w,{})]})]})}l.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(P,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9a999a0d.chunk.js.map